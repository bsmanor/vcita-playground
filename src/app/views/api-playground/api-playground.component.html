<div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px" style="height: 100%;">
    <section fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px" style="width:400px;">
      
      <mat-form-field appearance="outline">
        <mat-label>Results per page</mat-label>
        <input matInput placeholder="" [(ngModel)]="perPage">
      </mat-form-field>
  
      <mat-divider style="width:100%;"></mat-divider>
  
      <!-- Get Services -->
      <div><button mat-raised-button color="primary" (click)="getServices()">Get Services</button></div>
  
      <mat-divider style="width:100%;"></mat-divider>
      <!-- Get Conversation -->
      <div fxLayout="row" fxLayoutGap="15px" fxLayoutAlign="center center">
        <button mat-raised-button color="accent" (click)="getConversations(conversationsPage - 1)">BACK</button> 
        <button mat-raised-button color="primary" (click)="getConversations(conversationsPage)">Get Conversations</button>
        <button mat-raised-button color="accent" (click)="getConversations(conversationsPage + 1)">NEXT</button>
        <div>Page   {{conversationsPage}}</div> 
      </div>
  
      <mat-divider style="width:100%;"></mat-divider>
  
      <a href="https://live.vcita.com/site/ua48ta14yoqqz3r3/online-scheduling" target="blank" data-id="livesite-widget" class="livesite-schedule">
        <button mat-raised-button color="primary">Schedule Appointment</button>
      </a>
      
      <mat-divider style="width:100%;"></mat-divider>
  
      <!-- Subscribe to webhook endpoint -->
      <h3>Subscribe to a webhook</h3>
      <span><a href="https://developers.vcita.com/docs/webhook-subscriptions" target="_blank">Select from here</a></span>
      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
        <mat-form-field appearance="outline">
          <mat-label>Object</mat-label>
          <input matInput [(ngModel)]="webhookObject">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Event</mat-label>
          <input matInput [(ngModel)]="webhookEvent">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Target URL</mat-label>
          <input matInput [(ngModel)]="webhookUrl">
        </mat-form-field>
      </div>
  
      <button mat-raised-button color="primary" (click)="subscribeToWebhook()">SUBSCRIBE</button>
  
  
      <mat-divider style="width:100%;"></mat-divider>
  
      <!-- Get Clients -->
      <div fxLayout="row" fxLayoutGap="15px" fxLayoutAlign="center center">
        <button mat-raised-button color="accent" (click)="getClients(clientsPage - 1)">BACK</button> 
        <button mat-raised-button color="primary" (click)="getClients(clientsPage)">Get Clients</button>
        <button mat-raised-button color="accent" (click)="getClients(clientsPage + 1)">NEXT</button>
        <div>Page {{clientsPage}}</div>
      </div>
  
      <mat-divider style="width:100%;"></mat-divider>
  
      <!-- Tokenization - Allow Access To vcita -->
      <div>
        <a [href]=OAuthUrl><button mat-raised-button color="primary">Allow Access To vcita</button></a>
      </div>
  
      <mat-divider style="width:100%;"></mat-divider>
  
    </section>
  
    <div>
      <!-- Services
      <section fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px">
        <div *ngFor="let service of (services$ | async)?.data.services">
          <ul>
            <li>{{service.name}} | ID: {{service.id}}</li>
          </ul>
        </div>
      </section> -->
  
      <!-- Clients -->
      <section fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutGap="20px grid">
        <div *ngFor="let client of (clients$ | async)?.data.clients" fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutGap="15px grid">
          <mat-card>
            <mat-card-content>
              <div>{{client.id}}  -  {{client.first_name}} {{client.last_name}}</div>
              <button mat-raised-button color="accent" (click)="getClientConversations(client.id)">GET CONVERSATION</button>
            </mat-card-content>
          </mat-card>
        </div>
      </section>
  
  
  
    </div>
  
  
  
  </div>